<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<sql id="selectMember">
 		select mem_id, pw, mem_name, birth, tel, address_de, pw_answer, enable_no, address_no, pw_qna_no from ban_mem
 	</sql> 	
 	<select id="selectMember" resultType="memberVO">
 		select mem_id,pw from ban_mem
 	</select>
 	<select id="findMemberById" resultType="memberVO">
 	 <include refid="selectMember" />
 	 where id=#{value}
 	</select>
 	<!-- Spring Security에서 권한 체크를 위해 사용 -->
	<select id="selectAuthorityByMemId"  resultType="authority">
		SELECT a.auth_name
		FROM mem_auth ma, auth a
		WHERE ma.auth_no=a.auth_no and ma.mem_id=#{value}
	</select>
 	<select id="idcheck" resultType="int">
		select count(*) from  ban_mem where mem_id=#{value}
	</select>
</mapper>










