<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="trade">


<!-- Start 광태 -->
<!-- End 광태 -->

<!-- Start 우정 -->
<!-- End 우정 -->

<!-- Start 정훈 -->
<!-- End 정훈 -->

<!-- Start 향걸 -->
<!-- End 향걸 -->

<!-- Start 지원 -->
	<!-- [판매자] 판매음식번호에 해당하는 거래요청 리스트 -->
	<resultMap type="tradeVO" id="tradeRM">
		<result property="foodSellVO.foodSellNo" column="food_sell_no"/>
	</resultMap>
	<select id="getSellerTradeListByFoodSellNo" parameterType="string" resultMap="tradeRM">
		select t.tr_no, t.tr_quantity, t.tr_req_date, t.tr_fin_date, t.mem_id, t.food_sell_no, t.tr_status_no, s.tr_status
		from trade t, tr_status s
		where food_sell_no=#{value} and t.tr_status_no=s.tr_status_no
	</select>
	<!-- [판매자] 실제 거래완료 후 거래완료확인 하여 거래상태를 바꿔줌  -->
	<update id="updateTradeStatus" parameterType="string">
		update trade set tr_status_no=2
		where tr_no=#{value}
	</update>
<!-- End 지원 -->

<!-- Start 영민 -->
<!-- End 영민 -->

<!-- Start 윤주 -->
<!-- End 윤주 -->
</mapper>










