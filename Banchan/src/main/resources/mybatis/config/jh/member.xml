<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
<!-- <resultMap type="memberVO" id="memberRM">
	<result property="memId" column="mem_id" />
	<result property="memName" column="mem_name" />
</resultMap> -->
<resultMap type="sellerVO" id="sellerRM">
		<result property="memId" column="mem_id" />
		<result property="memName" column="mem_name" />
		<result property="addressVO.addressAPI" column="address_api" />
		<result property="sellerImg" column="seller_img" />
		<result property="sellerInfo" column="seller_info" />
		<result property="sellerScore" column="seller_score" />
</resultMap>
 	<select id="selectSellerTop3" resultMap="sellerRM">
 	<![CDATA[select m.mem_id, m.mem_name, a.address_api, s.seller_img, s.seller_info, s.seller_score 
				from (select mem_id, seller_score, seller_info, seller_img, rank() over(order by seller_score desc) as rank from seller)
				s, ban_mem m, address a 
				where m.mem_id=s.mem_id and m.address_no=a.address_no and rank<=3]]></select>
</mapper>










